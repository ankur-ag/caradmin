<div class="modal-header">
  <h4 class="modal-title">{{ reservation.id ? "Update Reservation" : "New Reservation"}}</h4>
</div>

<div class="modal-body">
  <!-- The form is placed inside the body of modal -->
  <form class="form-horizontal" name="reservation_form" novalidate ng-submit="submit(reservation_form.$valid)">
    <div class="form-group" show-errors>
      <label class="col-xs-3 control-label">Vehicle Name</label>
      <div class="col-xs-5">
        <input type="text" class="form-control" name="name" ng-model="vehicle.name" required ng-disabled="true" />
      </div>
    </div>

    <div class="form-group" show-errors>
      <label class="col-xs-3 control-label">Member Email</label>
      <div class="col-xs-5">
        <input type="email" class="form-control" name="email" ng-model="member.email" ng-blur="validateEmail()" ng-disabled="reservation.id" required />
        <div ng-messages="reservation_form.email.$error">
          <div ng-message="required">Enter an email address</div>
          <div ng-message="email">Enter a valid email address</div>
        </div>
      </div>
    </div>

    <div class="form-group" show-errors>
      <label class="col-xs-3 control-label">Starting On</label>
      <div class="col-xs-5">
        <input type="text" class="form-control" name="start_date" datepicker-popup="MM-dd-yyyy" ng-model="reservation.start_date" is-open="opened1" close-text="Close" ng-click="open($event,'opened1')" required />
        <div ng-messages="reservation_form.start_date.$error">
          <div ng-message="required">Enter a reservation start date</div>
        </div>
      </div>
    </div>

    <div ng-if="reservation.id">
      <div class="form-group">
        <label class="col-xs-3 control-label">Occupied On</label>
        <div class="col-xs-5">
          <input type="text" class="form-control" name="occupied_at" datepicker-popup="MM-dd-yyyy" ng-model="reservation.occupied_at" is-open="opened2" close-text="Close" ng-click="open($event,'opened2')" />
        </div>
      </div>

      <div class="form-group">
        <label class="col-xs-3 control-label">To be Returned On</label>
        <div class="col-xs-5">
          <input type="text" class="form-control" name="scheduled_to_return_at" datepicker-popup="MM-dd-yyyy" ng-model="reservation.scheduled_to_return_at" is-open="opened3" close-text="Close" ng-click="open($event,'opened3')" />
        </div>
      </div>

      <div class="form-group">
        <label class="col-xs-3 control-label">Returned On</label>
        <div class="col-xs-5">
          <input type="text" class="form-control" name="returned_at" datepicker-popup="MM-dd-yyyy" ng-model="reservation.returned_at" is-open="opened4" close-text="Close" ng-click="open($event,'opened4')" />
        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="col-xs-5 col-xs-offset-3">
        <button type="button" class="btn btn-warning" ng-click="cancel()">Cancel</button>
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </div>
  </form>
</div>